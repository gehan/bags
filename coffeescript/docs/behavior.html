<!DOCTYPE html>  <html> <head>   <title>behavior.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="Account.html">                 Account.coffee               </a>                                           <a class="source" href="Page.html">                 Page.coffee               </a>                                           <a class="source" href="Account.html">                 Account.coffee               </a>                                           <a class="source" href="App.html">                 App.coffee               </a>                                           <a class="source" href="Item.html">                 Item.coffee               </a>                                           <a class="source" href="Page.html">                 Page.coffee               </a>                                           <a class="source" href="InlineDropdown.html">                 InlineDropdown.coffee               </a>                                           <a class="source" href="behavior.html">                 behavior.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               behavior.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nx">curl</span> <span class="p">[</span><span class="s">&#39;core/dropdowns/InlineDropdown&#39;</span><span class="p">],</span> <span class="nf">(InlineDropdown) -&gt;</span>

    <span class="nx">Behavior</span><span class="p">.</span><span class="nx">addGlobalFilters</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">Provide</span> <span class="nx">a</span> <span class="nx">dropdown</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">element</span> <span class="nx">with</span> <span class="nx">data</span><span class="o">-</span><span class="nx">behavior</span> <span class="nx">attribute</span> <span class="o">is</span> <span class="nx">the</span> <span class="nx">handle</span>
        <span class="nx">which</span> <span class="nx">opens</span> <span class="nx">the</span> <span class="nx">dropdown</span><span class="p">.</span> <span class="nx">Set</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dropdown</span> <span class="kc">on</span> <span class="nx">the</span> <span class="nx">actual</span> <span class="nx">dropdown</span> <span class="nx">element</span>

        <span class="nv">options:</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>The dropdown will close if you click anywhere on it, which is fine
for dropdown menus. If you only want specific elements to close the
dropdown then set this to true</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nv">allowClicks: </span><span class="kc">false</span>

        <span class="nx">element</span><span class="o">-</span><span class="nv">attributes:</span>
            <span class="nx">data</span><span class="o">-</span><span class="nx">dropdown</span>
                <span class="o">-</span> <span class="nx">set</span> <span class="k">this</span> <span class="kc">on</span> <span class="nx">the</span> <span class="nx">dropdown</span>
            <span class="nx">data</span><span class="o">-</span><span class="nx">dropdown</span><span class="o">-</span><span class="nx">closeonclick</span>
                <span class="o">-</span> <span class="nx">set</span> <span class="k">this</span> <span class="kc">on</span> <span class="nx">elements</span> <span class="nx">that</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">close</span> <span class="nx">the</span> <span class="nx">dropdown</span><span class="p">,</span> <span class="nx">use</span> <span class="nx">with</span>
                  <span class="nx">the</span> <span class="nx">allowClicks</span> <span class="nx">option</span>

        <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">data</span><span class="o">-</span><span class="nx">behavior</span><span class="o">=</span><span class="s">&quot;Dropdown&quot;</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dropdown</span><span class="o">-</span><span class="nx">options</span><span class="o">=</span><span class="s">&quot;{}&quot;</span><span class="o">&gt;</span>
            <span class="nx">I</span><span class="s">&#39;m the handle</span>
<span class="s">            &lt;ul data-dropdown&gt;</span>
<span class="s">                I&#39;</span><span class="nx">m</span> <span class="nx">the</span> <span class="nx">dropdown</span>
            <span class="o">&lt;/</span><span class="nx">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="nx">li</span><span class="o">&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">Dropdown:</span>
            <span class="nv">defaults:</span>
                <span class="nv">allowClicks: </span><span class="kc">false</span>

            <span class="nv">setup: </span><span class="nf">(element, api) -&gt;</span>
                <span class="nv">dropdown = </span><span class="k">new</span> <span class="nx">InlineDropdown</span> <span class="nx">element</span><span class="p">,</span>
                    <span class="nv">allowClicks: </span><span class="nx">api</span><span class="p">.</span><span class="nx">getAs</span> <span class="nb">Boolean</span><span class="p">,</span> <span class="s">&#39;allowClicks&#39;</span>

                <span class="nx">api</span><span class="p">.</span><span class="nx">addEvents</span>
                    <span class="nv">cleanup: </span><span class="o">-&gt;</span> <span class="nx">dropdown</span><span class="p">.</span><span class="nx">destroy</span><span class="p">()</span>

                <span class="k">return</span> <span class="nx">dropdown</span>

        <span class="nv">Test:</span>
            <span class="nv">setup: </span><span class="nf">(element, api) -&gt;</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">&#39;Behavior applied to &#39;</span><span class="p">,</span> <span class="nx">element</span>

    <span class="nx">Delegator</span><span class="p">.</span><span class="nx">register</span> <span class="s">&#39;click&#39;</span><span class="p">,</span> <span class="s">&#39;push&#39;</span><span class="p">,</span> <span class="nf">(event, element, api) -&gt;</span>
        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
        <span class="nv">href = </span><span class="nx">element</span><span class="p">.</span><span class="nx">get</span> <span class="s">&#39;href&#39;</span>
        <span class="nx">History</span><span class="p">.</span><span class="nx">pushState</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">href</span>

    <span class="nx">Delegator</span><span class="p">.</span><span class="nx">register</span> <span class="s">&#39;click&#39;</span><span class="p">,</span> <span class="s">&#39;internet&#39;</span><span class="p">,</span> <span class="nf">(event, element, api) -&gt;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">&#39;oh yeah &#39;</span><span class="p">,</span> <span class="nx">element</span>

    <span class="nv">behavior = </span><span class="k">new</span> <span class="nx">Behavior</span>
        <span class="nv">breakOnErrors: </span><span class="kc">true</span>

    <span class="nb">window</span><span class="p">.</span><span class="nx">addEvents</span>
        <span class="nv">resize: </span><span class="o">-&gt;</span>
            <span class="nx">behavior</span><span class="p">.</span><span class="nx">fireEvent</span> <span class="s">&#39;resize&#39;</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">addEvent</span> <span class="s">&#39;domupdated&#39;</span><span class="p">,</span> <span class="nf">(container=document.body) -&gt;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">&#39;apply behavior to &#39;</span><span class="p">,</span> <span class="nx">container</span>
        <span class="nx">behavior</span><span class="p">.</span><span class="nx">apply</span> <span class="nx">container</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">addEvent</span> <span class="s">&#39;domready&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
        <span class="k">new</span> <span class="nx">Delegator</span><span class="p">().</span><span class="nx">attach</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 