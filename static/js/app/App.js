// Generated by CoffeeScript 1.3.1
var AccountRouter, Application, PageRouter;

Application = new Class({
  Extends: Router,
  routes: {
    'page/*path': function() {
      return PageRouter;
    },
    'account/*path': function() {
      return AccountRouter;
    }
  },
  viewClass: AppView,
  subRouteEl: function() {
    return this.view.refs.body;
  }
});

AccountRouter = new Class({
  Extends: Router,
  routes: {
    '': 'root',
    'user/': 'user',
    'user/:id/': 'user',
    'channel/': 'channel',
    'channel/:id/': 'channel',
    ':type/': 'account',
    ':type/:id/': 'account'
  },
  viewClass: AccountView,
  root: function(args, data) {
    this.view.render();
    return console.log('root');
  },
  account: function(args, data) {
    return console.log('account ', args.type, args.id);
  },
  channel: function(args, data) {
    return this.initSubView(ChannelView, this.view.refs.accountBody);
  },
  user: function(args, data) {
    return this.initSubView(UserView, this.view.refs.accountBody);
  }
});

PageRouter = new Class({
  Extends: Router,
  routes: {
    ':page/': 'page',
    ':page/:section/': 'page'
  },
  viewClass: PageView,
  page: function(args, data) {
    var pageId, section;
    pageId = args.page;
    section = args.section || 'priority';
    console.log(section);
    this.view.setPage(pageId);
    return this.view.getSection(section);
  }
});
